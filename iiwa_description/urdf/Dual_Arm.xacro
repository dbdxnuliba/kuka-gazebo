<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="dual_arm_manipulator" params="robot_name">
  <xacro:property name="joint_friction" value="0.01" />
  <xacro:property name="joint_damping" value="0.01" />
  <xacro:property name="PIhalf" value="1.570796" />
  <xacro:property name="PI" value="3.141592" />
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="-0.0746188127206768 -5.55111512312578E-17 -0.0854799809858157"
        rpy="0 0 0" />
      <mass
        value="81.613834759363" />
      <inertia
        ixx="0"
        ixy="0"
        ixz="0"
        iyy="0"
        iyz="0"
        izz="0" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="dual_arm_base_joint"
    type="revolute">
    <origin
      xyz="0 0 0.045"
      rpy="${PI} 0 0" />
    <parent
      link="${robot_name}_link_7" />
    <child
      link="base_link" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.14"
      upper="3.14"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  <link
    name="Link1">
    <inertial>
      <origin
        xyz="0.00302464836897415 0.00148467584367146 -0.0196712040191069"
        rpy="0 0 0" />
      <mass
        value="0.323170961054133" />
      <inertia
        ixx="9.86315700006277E-05"
        ixy="-1.83712585125958E-06"
        ixz="1.50310533353745E-05"
        iyy="0.000101226511355012"
        iyz="6.90483440689725E-06"
        izz="4.61898687854836E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_1"
    type="revolute">
    <origin
      xyz="-0.0744445637977397 0.152871273073736 -0.110435575211296"
      rpy="-1.43251148060093 -0.775712981728982 2.94539473140516" />
    <parent
      link="base_link" />
    <child
      link="Link1" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>

  <link
    name="Link2">
    <inertial>
      <origin
        xyz="-0.0841816926424142 -9.94783774485586E-05 0.00119770428720625"
        rpy="0 0 0" />
      <mass
        value="0.161073886022953" />
      <inertia
        ixx="1.38598083295319E-06"
        ixy="-3.76180464461997E-07"
        ixz="5.01830776658136E-09"
        iyy="0.000417336089370728"
        iyz="3.07943156555252E-09"
        izz="0.000417240402620394" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_2"
    type="revolute">
    <origin
      xyz="0 0 -0.0635"
      rpy="1.57079632679489 -0.380374098489847 0.317429885556193" />
    <parent
      link="Link1" />
    <child
      link="Link2" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  <link
    name="Link3">
    <inertial>
      <origin
        xyz="0.00289722994622221 0.00112305403125196 0.0290055866352336"
        rpy="0 0 0" />
      <mass
        value="0.117746913814738" />
      <inertia
        ixx="9.95073774261661E-05"
        ixy="-2.667473422779E-07"
        ixz="-3.12070252262036E-06"
        iyy="0.000106288781760734"
        iyz="-2.88857039626312E-06"
        izz="6.98820523527226E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link3.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_3"
    type="revolute">
    <origin
      xyz="-0.178688999999999 -0.00012700000000021 0"
      rpy="-1.57079632679489 -0.00547118733939 1.5707963267949" />
    <parent
      link="Link2" />
    <child
      link="Link3" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  
  <link
    name="Link4">
    <inertial>
      <origin
        xyz="-0.00106966507570738 -0.0713978397746767 -0.00106966507570611"
        rpy="0 0 0" />
      <mass
        value="0.117746913814738" />
      <inertia
        ixx="9.95073774261661E-05"
        ixy="-2.667473422779E-07"
        ixz="-3.12070252262036E-06"
        iyy="0.000106288781760734"
        iyz="-2.88857039626312E-06"
        izz="6.98820523527226E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link4.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_4"
    type="revolute">
    <origin
      xyz="0.0266700000000004 0.0019050000000066 0.0609600000000012"
      rpy="-1.5707963267949 -0.824186362211141 -1.57079632679489" />
    <parent
      link="Link3" />
    <child
      link="Link4" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  <link
    name="L2_1">
    <inertial>
      <origin
        xyz="0.00302464836897415 0.00148467584367146 -0.0196712040191069"
        rpy="0 0 0" />
      <mass
        value="0.323170961054133" />
      <inertia
        ixx="9.86315700006277E-05"
        ixy="-1.83712585125958E-06"
        ixz="1.50310533353745E-05"
        iyy="0.000101226511355012"
        iyz="6.90483440689725E-06"
        izz="4.61898687854836E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_21"
    type="revolute">
    <origin
      xyz="-0.0744445637977397 -0.152871273073736 -0.110435575211296"
      rpy="1.43251148060093 -0.775712981728982 -2.94539473140516" />
    <parent
      link="base_link" />
    <child
      link="L2_1" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
 </joint>
  <link
    name="L2_2">
    <inertial>
      <origin
        xyz="-0.0841816926424142 -9.94783774485586E-05 0.00119770428720625"
        rpy="0 0 0" />
      <mass
        value="0.161073886022953" />
      <inertia
        ixx="1.38598083295319E-06"
        ixy="-3.76180464461997E-07"
        ixz="5.01830776658136E-09"
        iyy="0.000417336089370728"
        iyz="3.07943156555252E-09"
        izz="0.000417240402620394" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.898039215686275 0.898039215686275 0.898039215686275 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_22"
    type="revolute">
    <origin
      xyz="0 0 -0.0635"
      rpy="1.57079632679489 -0.380374098489847 0.317429885556193" />
    <parent
      link="L2_1" />
    <child
      link="L2_2" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  <link
    name="L2_3">
    <inertial>
      <origin
        xyz="0.00289722994622221 0.00112305403125196 0.0290055866352336"
        rpy="0 0 0" />
      <mass
        value="0.117746913814738" />
      <inertia
        ixx="9.95073774261661E-05"
        ixy="-2.667473422779E-07"
        ixz="-3.12070252262036E-06"
        iyy="0.000106288781760734"
        iyz="-2.88857039626312E-06"
        izz="6.98820523527226E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link3.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_23"
    type="revolute">
    <origin
      xyz="-0.178688999999999 -0.00012700000000021 0"
      rpy="-1.57079632679489 -1.0547118733939E-15 1.5707963267949" />
    <parent
      link="L2_2" />
    <child
      link="L2_3" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  <link
    name="L2_4">
      <inertial>
      <origin
        xyz="-0.00106966507570738 -0.0713978397746767 -0.00106966507570611"
        rpy="0 0 0" />
      <mass
        value="0.117746913814738" />
      <inertia
        ixx="9.95073774261661E-05"
        ixy="-2.667473422779E-07"
        ixz="-3.12070252262036E-06"
        iyy="0.000106288781760734"
        iyz="-2.88857039626312E-06"
        izz="6.98820523527226E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://iiwa_description/meshes/iiwa14/collision/Dual_Arm/Link4.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="J_24"
    type="revolute">
    <origin
      xyz="0.0266700000000004 0.0019050000000066 0.0609600000000012"
      rpy="-1.5707963267949 -0.824186362211141 -1.57079632679489" />
    <parent
      link="L2_3" />
    <child
      link="L2_4" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.5"
      upper="0.5"
      effort="20000"
      velocity="13" />
    <dynamics damping="${joint_damping}" friction = "${joint_friction}"/>
  </joint>
  </xacro:macro>
</robot>